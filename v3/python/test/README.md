# 说明

本文件夹下的`main.py`文件就是v3项目的beta版本，如果你愿意为项目提交PR，我建议你最好先读读[v3_日文假名_Unicode编码.xlsx](tools\v3_日文假名_Unicode编码.xlsx)，尤其是`变换词尾分析_不含原型`和`词尾假名回推_不含原型`这2张工作表，它们是这个项目的核心。

当你大致理解了上面2张工作表后，我推荐你首先用[main.py](main.py)这个文件练手，你可以自由修改第183行代码的单引号内的值，比如`InputText = 'あいあいしす'`，通过几个例子简单验证下你的猜想。

如果你的想法得到了初步的验证，那么恭喜你，你离提交PR只差一步了！

在提交PR之前，你还需要跑下测试：你需要修改`test`文件夹下的[main.py](test\main.py)——如果你的 IDE 没有快速比较2个文本文件的功能的话，你可以使用 VSCode 或者 BCompare 等软件。

这个[main.py](test\main.py)文件会遍历一个收集了几乎所有活用后的单词词尾变形的`temp.txt`文件，由于这个文件有`161157`行，所以强烈建议你对自己的修改有一定把握后再去修改`test`文件夹的[main.py](test\main.py)文件。

在提交PR时，请在讨论中展示控制台打印的测试结果，类似下面这样的格式：
```python
本次算法准确率：95.4%
耗时:130556.751毫秒
```
`耗时`不是很重要，但如果你的准确率不是100%，请务必与我沟通，否则将会被驳回合并请求。

也请你不要伪造数据，项目在正式合并前会通过 GitHub Action 进行测试（现在暂时由我在本地进行测试），如果结果不一致，将以 GitHub Action （我）的结果为准，如果你有异议，欢迎与我沟通。

# 节省测试时间

如果你的电脑跑测试比较花时间，你可以使用`pypy3`内核来加速，在[官网](https://www.pypy.org/)下载文件后解压，然后将解压文件夹添加到系统的环境变量即可。

确认环境变量生效后，在命令行内输入`pypy3`，然后回车：
![](https://markdoen-1304943362.cos.ap-nanjing.myqcloud.com/20220818165527.png)

红框部分不是`Python`说明安装无误，之后你就可以使用`pypy3 main.py`来加速测试脚本了。

如果测试时，你的电脑命令行控制会打印乱码，你可以先输入`chcp 65001`回车，然后再输入`pypy3 main.py`。（这是pypy3导致的问题，通过原生的pyton3运行脚本不会有这样的问题。）